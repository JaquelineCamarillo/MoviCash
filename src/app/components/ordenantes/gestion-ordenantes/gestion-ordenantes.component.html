<header class="header">
  <div>
    <h1 class="header-title">Gestión de Ordenantes</h1>
    <nav class="header-nav">
      <div class="header-container">
        <!-- contenedor de la animación junto con el logo ya vectorizado de forma correcta -->
        <div class="animation-container">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 600 300">
            <!-- Cuadrados superpuestos -->
            <rect x="150" y="50" width="100" height="100" fill="none" stroke="#333333" stroke-width="3">
              <animate attributeName="stroke-dasharray" from="0, 600" to="600, 0" dur="2s" fill="freeze" />
              <animate attributeName="stroke-dashoffset" from="600" to="0" dur="2s" fill="freeze" />
            </rect>
            <rect x="160" y="60" width="100" height="100" fill="none" stroke="#333333" stroke-width="3">
              <animate attributeName="stroke-dasharray" from="0, 600" to="600, 0" dur="2s" begin="0.5s" fill="freeze" />
              <animate attributeName="stroke-dashoffset" from="600" to="0" dur="2s" begin="0.5s" fill="freeze" />
            </rect>
            <!-- la letra M -->
            <text x="200" y="125" font-family="Arial, sans-serif" font-weight="bold" font-size="60" text-anchor="middle" fill="none" stroke="#333333" stroke-width="2">
              M
              <animate attributeName="stroke-dasharray" from="0, 180" to="180, 0" dur="2s" begin="1s" fill="freeze" />
              <animate attributeName="stroke-dashoffset" from="180" to="0" dur="2s" begin="1s" fill="freeze" />
              <animate attributeName="fill" from="none" to="#333333" dur="0.5s" begin="1s" fill="freeze" />
            </text>
            <!-- texto MOVICASH -->
            <text x="200" y="210" font-family="Arial, sans-serif" font-weight="400" font-size="30" text-anchor="middle" letter-spacing="10" fill="none" stroke="#333333" stroke-width="2">
              MOVICASH
              <animate attributeName="stroke-dasharray" from="0, 300" to="300, 0" dur="4s" begin="1s" fill="freeze" />
              <animate attributeName="stroke-dashoffset" from="300" to="0" dur="4s" begin="1s" fill="freeze" />
              <animate attributeName="fill" from="none" to="#333333" dur="0.5s" begin="1s" fill="freeze" />
            </text>
          </svg>
        </div>
      </div>
      <ul class="nav-list">
        <li><a routerLink="/gestion-ordenantes">Inicio</a></li>
        <li><a routerLink="/deposito">Cuenta de Ahorro</a></li>
      </ul>
    </nav>
  </div>
</header>

<div class="container">
  <h3>Ordenante 1</h3>
  <div class="search-container">
    <input type="text" placeholder="Buscar ordenante..." class="search-input" />
    <button class="search-button" (click)="buscarOrdenante()">🔍 Search</button>
  </div>

  <div class="container">
    <h3>Lista de ordenantes</h3>
    <table class="ordenantes-table">
      <thead>
        <tr>
          <th>Nombre</th>
          <th>Apellido Paterno</th>
          <th>Apellido Materno</th>
          <th>RFC</th>
          <th>Teléfono</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let ordenante of ordenantes" (click)="seleccionarOrdenante(ordenante)">
          <td>{{ ordenante.NombreOrdenante }}</td>
          <td>{{ ordenante.ApPaterno }}</td>
          <td>{{ ordenante.ApMaterno }}</td>
          <td>{{ ordenante.RFCOrdenante }}</td>
          <td>{{ ordenante.Telefono && ordenante.Telefono.length > 0 ? ordenante.Telefono[0].Numero : 'Sin teléfono' }}</td>
          <td>
            <button (click)="modificarOrdenante()">Modificar</button>
            <button (click)="eliminarOrdenante()">Eliminar</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <br><br>

  <form *ngIf="ordenanteSeleccionado" class="ordenante-form" (ngSubmit)="modificarOrdenante()">
    <div class="form-group">
      <input type="text" [(ngModel)]="ordenanteSeleccionado.NombreOrdenante" name="nombre" placeholder="Nombre" />
      <input type="text" [(ngModel)]="ordenanteSeleccionado.ApPaterno" name="apPaterno" placeholder="Apellido Paterno" />
      <input type="text" [(ngModel)]="ordenanteSeleccionado.ApMaterno" name="apMaterno" placeholder="Apellido Materno" />
    </div>
    <div class="form-group">
      <input type="text" [(ngModel)]="ordenanteSeleccionado.Sexo" name="sexo" placeholder="Sexo" />
      <input type="text" [(ngModel)]="ordenanteSeleccionado.NumeroCuenta" name="numeroCuenta" placeholder="NumeroCuenta" />
      <input type="date" [(ngModel)]="ordenanteSeleccionado.FechaNacimiento" name="fechaNacimiento" placeholder="Fecha Nacimiento" />
    </div>
    <div class="form-group">
      <label for="fechaRegistro"><small>Fecha de Registro</small></label>
      <input type="date" id="fechaRegistro" [(ngModel)]="ordenanteSeleccionado.FechaRegistro" name="fechaRegistro" [readonly]="true" />
      <input type="text" [(ngModel)]="ordenanteSeleccionado.RFCOrdenante" name="RFCOrdenante" placeholder="RFCOrdenante" />
      <!-- Se corrigió el acceso al teléfono con el operador de encadenamiento opcional -->
      <input type="text" [(ngModel)]="ordenanteSeleccionado.Telefono[0].Numero" name="telefono" placeholder="Teléfono" />
    </div>
    <div class="form-group">
      <label for="fechaUltimaMod"><small>Fecha Última Modificación</small></label>
      <input type="date" id="fechaUltimaMod" [(ngModel)]="ordenanteSeleccionado.FechaActualizacion" name="fechaUltimaMod" [readonly]="true" />
    </div>
    <div class="form-group">
      <label for="direccion"><small>Dirección</small></label>
      <input type="text" [(ngModel)]="ordenanteSeleccionado.Direccion.Calle" name="calle" placeholder="Calle" />
      <input type="text" [(ngModel)]="ordenanteSeleccionado.Direccion.NumeroExterior" name="numeroExterior" placeholder="Número Exterior" />
      <input type="text" [(ngModel)]="ordenanteSeleccionado.Direccion.NumeroInterior" name="numeroInterior" placeholder="Número Interior" />
      <input type="text" [(ngModel)]="ordenanteSeleccionado.Direccion.Colonia" name="colonia" placeholder="Colonia" />
      <input type="text" [(ngModel)]="ordenanteSeleccionado.Direccion.Ciudad" name="ciudad" placeholder="Ciudad" />
    </div>
    <div class="button-group">
      <button type="submit" class="btn-modify">MODIFICAR</button>
      <button type="button" class="btn-delete" (click)="eliminarOrdenante()">ELIMINAR</button>
    </div>
  </form>
</div>
