<div class="container">
    <header class="header">
      <div class="header-container">
          <h1 class="header-title">Administradores</h1>
          <nav class="header-nav">
          </nav>
      </div>
    </header>
  
    <!-- Formulario de registro -->
    <div class="admin-form">
      <h2>{{ isEditing ? 'Editar Administrador' : 'Registrar Administrador' }}</h2>
      <form (ngSubmit)="onSubmit()">
        
        <!-- Sección de Datos Personales -->
        <div class="section-title">Datos Personales</div>
        <div class="form-row">
          <div class="form-group">
            <label>RFC <span class="required">*</span></label>
            <div class="input-container">
              <input type="text" [(ngModel)]="admin.RFC" name="RFC" required>
            </div>
            <div *ngIf="errorMessage && !admin.RFC" class="error-message">{{ errorMessage }}</div>
          </div>
          <div class="form-group">
            <label>Nombre <span class="required">*</span></label>
            <div class="input-container">
              <input type="text" [(ngModel)]="admin.NombrePersonal" name="NombrePersonal" required>
            </div>
            <div *ngIf="errorMessage && !admin.NombrePersonal" class="error-message">{{ errorMessage }}</div>
          </div>
        </div>
  
        <div class="form-row">
          <div class="form-group">
            <label>Apellido Paterno <span class="required">*</span></label>
            <div class="input-container">
              <input type="text" [(ngModel)]="admin.ApPaterno" name="ApPaterno" required>
            </div>
            <div *ngIf="errorMessage && !admin.ApPaterno" class="error-message">{{ errorMessage }}</div>
          </div>
          <div class="form-group">
            <label>Apellido Materno</label>
            <div class="input-container">
              <input type="text" [(ngModel)]="admin.ApMaterno" name="ApMaterno">
            </div>
          </div>
        </div>
  
        <div class="form-row">
          <div class="form-group">
            <label>Sexo <span class="required">*</span></label>
            <div class="input-container">
              <select [(ngModel)]="admin.Sexo" name="Sexo" required>
                <option value="Masculino">Masculino</option>
                <option value="Femenino">Femenino</option>
              </select>
            </div>
          </div>
          <div class="form-group">
            <label>Fecha de Nacimiento <span class="required">*</span></label>
            <div class="input-container">
              <input type="date" [(ngModel)]="admin.FechaNacimiento" name="FechaNacimiento" required>
            </div>
          </div>
        </div>
  
        <!-- Sección de Credenciales -->
        <div class="section-title">Credenciales</div>
        <div class="form-row">
          <div class="form-group">
            <label>Correo Electrónico <span class="required">*</span></label>
            <div class="input-container">
              <input type="email" [(ngModel)]="admin.CorreoElectronico" name="CorreoElectronico" required>
            </div>
          </div>
          <div class="form-group">
            <label>Contraseña <span class="required">*</span></label>
            <div class="input-container">
              <input type="password" [(ngModel)]="admin.Password" name="Password" required>
            </div>
          </div>
        </div>
  
        <!-- Sección de Dirección -->
        <div class="section-title">Dirección</div>
        <div class="form-row">
          <div class="form-group">
            <label>Número Interior</label>
            <div class="input-container">
              <input type="text" [(ngModel)]="admin.Direccion.NumeroInterior" name="NumeroInterior">
            </div>
          </div>
          <div class="form-group">
            <label>Número Exterior <span class="required">*</span></label>
            <div class="input-container">
              <input type="text" [(ngModel)]="admin.Direccion.NumeroExterior" name="NumeroExterior" required>
            </div>
          </div>
        </div>
  
        <div class="form-row">
          <div class="form-group">
            <label>Calle <span class="required">*</span></label>
            <div class="input-container">
              <input type="text" [(ngModel)]="admin.Direccion.Calle" name="Calle" required>
            </div>
          </div>
          <div class="form-group">
            <label>Colonia <span class="required">*</span></label>
            <div class="input-container">
              <input type="text" [(ngModel)]="admin.Direccion.Colonia" name="Colonia" required>
            </div>
          </div>
        </div>
  
        <div class="form-row">
          <div class="form-group">
            <label>Ciudad <span class="required">*</span></label>
            <div class="input-container">
              <input type="text" [(ngModel)]="admin.Direccion.Ciudad" name="Ciudad" required>
            </div>
          </div>
        </div>
  
        <!-- Sección de Contacto -->
        <div class="section-title">Teléfonos</div>
        <div *ngFor="let tel of admin.Telefono; let i = index" class="form-row">
          <div class="form-group">
            <label>Teléfono {{ i + 1 }} <span class="required">*</span></label>
            <div class="input-container">
              <input type="text" [(ngModel)]="tel.Numero" name="Telefono{{i}}" required>
            </div>
          </div>
        </div>
  
        <!-- Estado de Cuenta -->
        <div class="section-title">Estado de Cuenta</div>
        <div class="form-row">
          <div class="form-group">
            <label>Estado <span class="required">*</span></label>
            <div class="input-container">
              <select [(ngModel)]="admin.Estado" name="Estado" required>
                <option value="Activo">Activo</option>
                <option value="Inactivo">Inactivo</option>
                <option value="Bloqueado">Bloqueado</option>
              </select>
            </div>
          </div>
          <div class="form-group">
            <label>Fecha de Registro <span class="required">*</span></label>
            <div class="input-container">
              <input type="date" [(ngModel)]="admin.FechaCreacion" name="FechaCreacion" required>
  
            </div>
          </div>
        </div>
  
        <!-- Botones -->
        <div class="form-actions">
          <button class="modify-btn" type="submit">{{ isEditing ? 'MODIFICAR' : 'AGREGAR' }}</button>
          <button class="cancel-btn" *ngIf="isEditing" (click)="cancelEdit()">CANCELAR</button>
        </div>
        
      </form>
    </div>
  
    <!-- Barra de búsqueda -->
    <div class="search-bar">
      <input type="text" placeholder="Buscar administrador..." [(ngModel)]="searchQuery" (input)="search()">
    </div>
  
    <!-- Tabla de Administradores -->
    <div class="admin-list">
      <h2>Lista de Administradores</h2>
      <table>
        <thead>
          <tr>
            <th>RFC</th>
            <th>Nombre</th>
            <th>Correo</th>
            <th>Fecha de Registro</th>
            <th>Estado</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let admin of filteredAdmins">
            <td>{{ admin.RFC }}</td>
            <td>{{ admin.NombrePersonal }} {{ admin.ApPaterno }} {{ admin.ApMaterno }}</td>
            <td>{{ admin.CorreoElectronico }}</td>
            <td>{{ admin.FechaCreacion }}</td>
            <td>{{ admin.Estado }}</td>
            <td>
              <button class="edit-btn" (click)="editAdmin(admin)">Editar</button>
              <button class="delete-btn" (click)="deleteAdmin(admin)">Eliminar</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>